---
import Layout from '@layouts/Layout.astro'
import Aside from '@components/Aside.astro'
import Main from '@components/Main.astro'
import { Player } from '@components/Player'
---

<Layout title="SoundBridge">
  <input
    type="checkbox"
    class="inline-flex items-center text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none dark:text-gray-400 dark:hover:bg-gray-700 dark:ring-gray-600 dark:focus:outline-none peer h-0"
  />

  <Aside />
  <Main />
</Layout>

<style>
  input[type='checkbox']::before {
    content: '';
    position: absolute;
    top: 8px;
    /* border: solid 1px white; */
    border-radius: 8px;
    cursor: pointer;
    width: 32px;
    height: 32px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%239ca3af' viewBox='0 0 24 24'%3E%3Cpath d='M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z'/%3E%3C/svg%3E");
    /* background: #21b799; */
  }
  input[type='checkbox']:checked::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    backdrop-filter: blur(10px);
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }
</style>

<script>
  const closeBtn = document.getElementById('close') as HTMLSpanElement
  const checkbox = document.querySelector('input') as HTMLInputElement
  const lis = document.querySelectorAll('li')
  closeBtn.addEventListener('click', () => (checkbox.checked = false))
  lis.forEach((li) => li.addEventListener('click', () => (checkbox.checked = false)))
</script>
